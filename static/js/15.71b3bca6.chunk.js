(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[15],{225:function(e,t,a){"use strict";a.r(t);var s=a(0),l=a.n(s),n=a(42),c=a.n(n),i=a(13),o=a(35),r=a.n(o),d=a(34),m=a(8),u=a.n(m),p=a(36);const b={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",width:"35%",height:"35%",transform:"translate(-50%, -50%)",backgroundColor:"#0f4d4a",borderRadius:"1%"}};t.default=function(e){let[t,a]=Object(s.useState)(null),[n,o]=Object(s.useState)(0),[m,f]=Object(s.useState)(!1),[E,w]=Object(s.useState)(!1),[h,x]=Object(s.useState)({secretjs:null,address:null});async function g(){const{secretjs:e,address:t}=h,{balance:{amount:s}}=await e.query.bank.balance({address:t,denom:"uscrt"});a(s)}async function j(e){o(e.target.value)}async function v(){await e.callback(),e.hide(),o(0),w(!1)}Object(s.useEffect)(()=>{null!=h.secretjs&&null!=h.address||async function(){const{secretjs:e,address:t}=await Object(d.a)();x({secretjs:e,address:t})}(),null==h.secretjs&&null==h.address||g(),f(0!==n),1e6*n>t&&f(!1)},[h,n,t,g]);const N=e=>{let{isShowing:s,hide:d}=e;return s?u.a.createPortal(l.a.createElement(l.a.Fragment,null,l.a.createElement(c.a,{isOpen:s,onRequestClose:v,contentLabel:"Example Modal",style:b,ariaHideApp:!1},l.a.createElement("div",{className:"flex flex-col h-full justify-between"},l.a.createElement("div",{className:"flex flex-row justify-between items-center"},l.a.createElement("div",{className:""},l.a.createElement("span",{className:"deposit-modal-heading"},"Deposit")),l.a.createElement("div",{className:"btn-close white"},l.a.createElement("button",{type:"Button",className:"btn-close white","aria-label":"Close",onClick:v}))),l.a.createElement("div",{className:"flex flex-row  justify-between items-center mt-4"},l.a.createElement("div",{className:""},l.a.createElement("span",{className:"deposit-modal-available text-m"},"Available")),l.a.createElement("div",{className:"flex flex-row "},l.a.createElement("div",{className:"d-flex align-items-center m-1"},l.a.createElement("img",{src:r.a,alt:"LOGO ",className:"img-fluid mini-logo-size"})),l.a.createElement("div",{className:"ps-1 pool_past_prizes m-1"},t/1e6," SCRT"))),l.a.createElement("div",{className:"flex flex-row  justify-between items-center  p-2 mt-2 deposit-modal-deposit-field deposit-modal-deposit-field-shape "},l.a.createElement("div",null,l.a.createElement("input",{className:"deposit-modal-deposit-field text-white w-full",type:"number",min:"0",placeholder:"0.00","placeholder-default":"white",name:"inputBalance",value:n,onChange:j})),l.a.createElement("div",{className:"deposit-modal-deposit-field-tokens"},"SCRT")),l.a.createElement("div",{className:"flex flex-row mt-4 items-center justify-between text-white "},l.a.createElement("div",{className:"deposit-modal-amount-percentage px-5 ",onClick:()=>{o((t/1e6*.25).toFixed(2))}},l.a.createElement("button",null,"25%")),l.a.createElement("div",{className:"deposit-modal-amount-percentage  px-5",onClick:()=>{o((t/1e6*.5).toFixed(2))}},l.a.createElement("button",null,"50%")),l.a.createElement("div",{className:"deposit-modal-amount-percentage px-5 ",onClick:()=>{o((t/1e6*.75).toFixed(2))}},l.a.createElement("button",null,"75%")),l.a.createElement("div",{className:"deposit-modal-amount-percentage  px-5",onClick:()=>{o(t/1e6)}},l.a.createElement("button",null,"100%"))),l.a.createElement("div",{className:"flex flex-row mt-4 items-center justify-between "},l.a.createElement(i.Button,{className:"btn account_deposit_button text-white self-center",onClick:()=>async function(){w(!0);const{secretjs:e,address:t}=h;let s=String(1e6*n);try{let a=await e.tx.compute.executeContract({sender:t,contractAddress:"secret1g4led7gnehwlu3zd7ffawz8z08xyrj9f2qtgrz",codeHash:"757ad370f679729bc43c17ed9045b5eec3c30fada0639828b6d0e84321e21200",msg:{deposit:{}},sentFunds:[{amount:s,denom:"uscrt"}]},{gasLimit:240297});console.log(a),a.jsonLog?Object(p.a)("success","Transaction sent!",`Successfully deposited: ${n} SCRT \n \n        Txhash: ${a.transactionHash}`):Object(p.a)("error","ERROR",a.rawLog)}catch(c){Object(p.a)("error","ERROR",c)}const{balance:{amount:l}}=await e.query.bank.balance({address:t,denom:"uscrt"});a(l),await v()}(),disabled:!m},E?l.a.createElement("div",{className:"loader-1 center"},l.a.createElement("span",null)):l.a.createElement("div",null,"Deposit")))))),document.body):null};return l.a.createElement(N,{isShowing:e.isShowing,hide:e.hide})}}}]);
//# sourceMappingURL=15.71b3bca6.chunk.js.map