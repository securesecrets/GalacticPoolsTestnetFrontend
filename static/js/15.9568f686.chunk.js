(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[15],{223:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(42),c=a.n(s),i=a(13),o=a(35),r=a.n(o),m=a(34),d=a(8),u=a.n(d),p=a(36);const f={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",width:"35%",height:"50%",transform:"translate(-50%, -50%)",backgroundColor:"#0f4d4a",borderRadius:"1%"}},b=e=>{let{isShowing:t,hide:a,clearfields:n,balance:s,inputBalance:o,onInputchangeBalance:m,setinputBalance:d,Label:p,isSponsoring:b,isSponsorButtonEnabled:E,sponsor:h,onInputchangeMessage:g,inputMessage:x,onInputchangeTitle:w,inputTitle:v}=e;return t?u.a.createPortal(l.a.createElement(l.a.Fragment,null,l.a.createElement(c.a,{isOpen:t,onRequestClose:n,contentLabel:"Example Modal",style:f,ariaHideApp:!1},l.a.createElement("div",{className:"flex flex-col h-full justify-between"},l.a.createElement("div",{className:"flex flex-row justify-between items-center"},l.a.createElement("div",{className:""},l.a.createElement("span",{className:"deposit-modal-heading"},"Sponsor")),l.a.createElement("div",{className:"btn-close white"},l.a.createElement("button",{type:"Button",className:"btn-close white","aria-label":"Close",onClick:n}))),l.a.createElement("div",{className:"flex flex-row  justify-between items-center mt-4"},l.a.createElement("div",{className:""},l.a.createElement("span",{className:"deposit-modal-available text-m"},"Available")),l.a.createElement("div",{className:"flex flex-row "},l.a.createElement("div",{className:"d-flex align-items-center m-1"},l.a.createElement("img",{src:r.a,alt:"LOGO ",className:"img-fluid mini-logo-size"})),l.a.createElement("div",{className:"ps-1 pool_past_prizes m-1"},s/1e6," SCRT"))),l.a.createElement("div",{className:"flex flex-row  justify-between items-center  p-2 mt-2 deposit-modal-deposit-field deposit-modal-deposit-field-shape "},l.a.createElement("div",null,l.a.createElement("input",{className:"deposit-modal-deposit-field text-white w-full",type:"number",min:"0",placeholder:"0.00","placeholder-default":"white",name:"inputBalance",value:o,onChange:m})),l.a.createElement("div",{className:"deposit-modal-deposit-field-tokens"},"SCRT")),l.a.createElement("div",{className:"flex flex-row mt-4 items-center justify-between text-white "},l.a.createElement("div",{className:"deposit-modal-amount-percentage px-5 ",onClick:()=>{d((s/1e6*.25).toFixed(2))}},l.a.createElement("button",null,"25%")),l.a.createElement("div",{className:"deposit-modal-amount-percentage  px-5",onClick:()=>{d((s/1e6*.5).toFixed(2))}},l.a.createElement("button",null,"50%")),l.a.createElement("div",{className:"deposit-modal-amount-percentage px-5 ",onClick:()=>{d((s/1e6*.75).toFixed(2))}},l.a.createElement("button",null,"75%")),l.a.createElement("div",{className:"deposit-modal-amount-percentage  px-5",onClick:()=>{d(s/1e6)}},l.a.createElement("button",null,"100%"))),l.a.createElement("div",{className:"flex flex-row  justify-between items-center mt-4"},l.a.createElement("div",{className:""},l.a.createElement("span",{className:"deposit-modal-available text-m"},"Sponsorship Title")),l.a.createElement("div",{className:"flex flex-row "},l.a.createElement("div",{className:"d-flex align-items-center m-1"},l.a.createElement("form",null,l.a.createElement(p,{text:v,onChange:w}))))),l.a.createElement("div",{className:"flex flex-row  justify-between items-center mt-4"},l.a.createElement("div",{className:""},l.a.createElement("span",{className:"deposit-modal-available text-m"},"Sponsorship Message")),l.a.createElement("div",{className:"flex flex-row "},l.a.createElement("div",{className:"d-flex align-items-center m-1"},l.a.createElement(p,{text:x,onChange:g})))),l.a.createElement("div",{className:"flex flex-row mt-4 items-center justify-between "},l.a.createElement(i.Button,{className:"btn account_deposit_button text-white self-center",onClick:()=>h(),disabled:!E},b?l.a.createElement("div",{className:"loader-1 center"},l.a.createElement("span",null)):l.a.createElement("div",null,"Sponsor")))))),document.body):null};t.default=function(e){let[t,a]=Object(n.useState)(null),[s,c]=Object(n.useState)(0),[i,o]=Object(n.useState)(""),[r,d]=Object(n.useState)(""),[u,f]=Object(n.useState)(!1),[E,h]=Object(n.useState)(!1),[g,x]=Object(n.useState)({secretjs:null,address:null});async function w(){const{secretjs:e,address:t}=g,{balance:{amount:n}}=await e.query.bank.balance({address:t,denom:"uscrt"});a(n)}async function v(){e.hide(),await e.callback(),c(0),o(void 0),d(void 0),h(!1)}Object(n.useEffect)(()=>{null!=g.secretjs&&null!=g.address||async function(){const{secretjs:e,address:t}=await Object(m.a)();x({secretjs:e,address:t})}(),null==g.secretjs&&null==g.address||w(),f(0!==s),1e6*s>t&&f(!1)},[g,s,t,w]);const N=Object(n.useCallback)(e=>{let{text:t,onChange:a}=e;return l.a.createElement("input",{className:"deposit-modal-deposit-field text-white w-full",type:"text",placeholder:"Optional","placeholder-default":"white",value:t,onChange:e=>a(e)})},[]);return l.a.createElement(b,{isShowing:e.isShowing,hide:e.hide,clearfields:v,balance:t,inputBalance:s,onInputchangeBalance:async function(e){c(e.target.value)},setinputBalance:c,Label:N,isSponsoring:E,isSponsorButtonEnabled:u,sponsor:async function(){h(!0);const{secretjs:e,address:t}=g;let n=String(1e6*s);try{let a={sponsor:{}};null===r&&""===r.trim()||(a.sponsor.message=r),null===i&&""===i.trim()||(a.sponsor.title=i);let l=await e.tx.compute.executeContract({sender:t,contractAddress:"secret1j6ly79zfvh83g8te9utystt8hc6vm84u23gnmn",codeHash:"0d21c959e0f195e792e391b7b1729f6c6af70912ce76572faaa3db1f10412dfc",msg:a,sentFunds:[{amount:n,denom:"uscrt"}]},{gasLimit:240297});l.jsonLog?Object(p.a)("success","Transaction sent!",`Successfully sponsored: ${s} SCRT \n \n        Txhash: ${l.transactionHash}`):Object(p.a)("error","ERROR",l.rawLog)}catch(c){Object(p.a)("error","ERROR",c)}const{balance:{amount:l}}=await e.query.bank.balance({address:t,denom:"uscrt"});a(l),await v()},onInputchangeMessage:async function(e){d(e.target.value)},inputMessage:r,onInputchangeTitle:async function(e){o(e.target.value)},inputTitle:i})}}}]);
//# sourceMappingURL=15.9568f686.chunk.js.map