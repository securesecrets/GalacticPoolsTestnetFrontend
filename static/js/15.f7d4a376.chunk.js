(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[15,19],{196:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(58),c=a.n(l),i=a(13),r=a(41),o=a.n(r),d=a(45),m=a(8),u=a.n(m),p=a(46);const f={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",width:"35%",height:"35%",transform:"translate(-50%, -50%)",backgroundColor:"#0f4d4a",borderRadius:"1%"}};t.default=function(e){let[t,a]=Object(n.useState)(null),[l,r]=Object(n.useState)(0),[m,w]=Object(n.useState)(!1),[b,g]=Object(n.useState)(!1),[E,h]=Object(n.useState)({secretjs:null,address:null});async function x(e){r(e.target.value)}async function v(){await e.callback(),e.hide(),r(0),g(!1)}Object(n.useEffect)(()=>{null!=E.secretjs&&null!=E.address||async function(){const{secretjs:e,address:t}=await Object(d.a)();h({secretjs:e,address:t})}(),null==E.secretjs&&null==E.address||async function(){const{secretjs:e,address:t}=E,{balance:{amount:n}}=await e.query.bank.balance({address:t,denom:"uscrt"});a(n)}(),w(0!==l),1e6*l>t&&w(!1)},[E,l]);const j=e=>{let{isShowing:n,hide:d}=e;return n?u.a.createPortal(s.a.createElement(s.a.Fragment,null,s.a.createElement(c.a,{isOpen:n,onRequestClose:v,contentLabel:"Example Modal",style:f,ariaHideApp:!1},s.a.createElement("div",{className:"flex flex-col h-full justify-between"},s.a.createElement("div",{className:"flex flex-row justify-between items-center"},s.a.createElement("div",{className:""},s.a.createElement("span",{className:"deposit-modal-heading"},"Deposit")),s.a.createElement("div",{className:"btn-close white"},s.a.createElement("button",{type:"Button",className:"btn-close white","aria-label":"Close",onClick:v}))),s.a.createElement("div",{className:"flex flex-row  justify-between items-center mt-4"},s.a.createElement("div",{className:""},s.a.createElement("span",{className:"deposit-modal-available text-m"},"Available")),s.a.createElement("div",{className:"flex flex-row "},s.a.createElement("div",{className:"d-flex align-items-center m-1"},s.a.createElement("img",{src:o.a,alt:"LOGO Image",className:"img-fluid mini-logo-size"})),s.a.createElement("div",{className:"ps-1 pool_past_prizes m-1"},t/1e6," SCRT"))),s.a.createElement("div",{className:"flex flex-row  justify-between items-center  p-2 mt-2 deposit-modal-deposit-field deposit-modal-deposit-field-shape "},s.a.createElement("div",null,s.a.createElement("input",{className:"deposit-modal-deposit-field text-white w-full",type:"number",min:"0",placeholder:"0.00","placeholder-default":"white",name:"inputBalance",value:l,onChange:x})),s.a.createElement("div",{className:"deposit-modal-deposit-field-tokens"},"SCRT")),s.a.createElement("div",{className:"flex flex-row mt-4 items-center justify-between text-white "},s.a.createElement("div",{className:"deposit-modal-amount-percentage px-5 ",onClick:()=>{r((t/1e6*.25).toFixed(2))}},s.a.createElement("button",null,"25%")),s.a.createElement("div",{className:"deposit-modal-amount-percentage  px-5",onClick:()=>{r((t/1e6*.5).toFixed(2))}},s.a.createElement("button",null,"50%")),s.a.createElement("div",{className:"deposit-modal-amount-percentage px-5 ",onClick:()=>{r((t/1e6*.75).toFixed(2))}},s.a.createElement("button",null,"75%")),s.a.createElement("div",{className:"deposit-modal-amount-percentage  px-5",onClick:()=>{r(t/1e6)}},s.a.createElement("button",null,"100%"))),s.a.createElement("div",{className:"flex flex-row mt-4 items-center justify-between "},s.a.createElement(i.Button,{className:"btn account_deposit_button text-white self-center",onClick:()=>async function(){g(!0);const{secretjs:e,address:t}=E;let n=String(1e6*l);try{let a=await e.tx.compute.executeContract({sender:t,contractAddress:"secret1a25z89fjjjhr6zyuvr3w7z694fv4yq2z8drqxq",codeHash:"00e789c42814eb05255cb553f1439d4cb7969d493e26d68f0766b7e4d1cae2b5",msg:{deposit:{}},sentFunds:[{amount:n,denom:"uscrt"}]},{gasLimit:240297});console.log(a),a.jsonLog?Object(p.a)("success","Transaction sent!",`Successfully deposited: ${l} SCRT \n \n        Txhash: ${a.transactionHash}`):Object(p.a)("error","ERROR",a.rawLog)}catch(c){Object(p.a)("error","ERROR",c)}const{balance:{amount:s}}=await e.query.bank.balance({address:t,denom:"uscrt"});a(s),await v()}(),disabled:!m},b?s.a.createElement("div",{className:"loader-1 center"},s.a.createElement("span",null)):s.a.createElement("div",null,"Deposit")))))),document.body):null};return s.a.createElement(j,{isShowing:e.isShowing,hide:e.hide})}},41:function(e,t,a){e.exports=a.p+"static/media/scrt_logo.0fe47b33.png"},45:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(94),s=a(95);async function l(){const e=e=>new Promise(t=>setTimeout(t,e));for(;!window.keplr||!window.getEnigmaUtils||!window.getOfflineSignerOnlyAmino;)await e(50);await window.keplr.enable("pulsar-2");const t=window.keplr.getOfflineSignerOnlyAmino("pulsar-2"),[{address:a}]=await t.getAccounts();return{address:a,secretjs:await n.SecretNetworkClient.create({grpcWebUrl:"https://grpc.testnet.secretsaturn.net",chainId:"pulsar-2",wallet:t,walletAddress:a,encryptionUtils:window.keplr.getEnigmaUtils("pulsar-2")})}}s.config({path:"../../../.env"})},46:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(96),s=a.n(n),l=s.a.mixin({toast:!0,icon:"success",title:"General Title",position:"top-right",showConfirmButton:!1,timer:15e3,timerProgressBar:!0,showCloseButton:!0,didOpen:e=>{e.addEventListener("mouseenter",s.a.stopTimer),e.addEventListener("mouseleave",s.a.resumeTimer)}});async function c(e,t,a){l.fire({title:t,text:a,icon:e,color:"#ffffff",background:"#136762"})}}}]);
//# sourceMappingURL=15.f7d4a376.chunk.js.map