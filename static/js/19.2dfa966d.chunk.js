(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[19],{196:function(e,t,a){"use strict";a.r(t);var s=a(0),l=a.n(s),n=a(58),c=a.n(n),i=a(13),o=a(41),r=a.n(o),d=a(45),m=a(8),u=a.n(m),p=a(46);const b={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",width:"35%",height:"35%",transform:"translate(-50%, -50%)",backgroundColor:"#0f4d4a",borderRadius:"1%"}};t.default=function(e){let[t,a]=Object(s.useState)(null),[n,o]=Object(s.useState)(0),[m,f]=Object(s.useState)(!1),[E,h]=Object(s.useState)(!1),[w,x]=Object(s.useState)({secretjs:null,address:null});async function g(e){o(e.target.value)}async function j(){await e.callback(),e.hide(),o(0),h(!1)}Object(s.useEffect)(()=>{null!=w.secretjs&&null!=w.address||async function(){const{secretjs:e,address:t}=await Object(d.a)();x({secretjs:e,address:t})}(),null==w.secretjs&&null==w.address||async function(){const{secretjs:e,address:t}=w,{balance:{amount:s}}=await e.query.bank.balance({address:t,denom:"uscrt"});a(s)}(),f(0!==n),1e6*n>t&&f(!1)},[w,n]);const v=e=>{let{isShowing:s,hide:d}=e;return s?u.a.createPortal(l.a.createElement(l.a.Fragment,null,l.a.createElement(c.a,{isOpen:s,onRequestClose:j,contentLabel:"Example Modal",style:b,ariaHideApp:!1},l.a.createElement("div",{className:"flex flex-col h-full justify-between"},l.a.createElement("div",{className:"flex flex-row justify-between items-center"},l.a.createElement("div",{className:""},l.a.createElement("span",{className:"deposit-modal-heading"},"Deposit")),l.a.createElement("div",{className:"btn-close white"},l.a.createElement("button",{type:"Button",className:"btn-close white","aria-label":"Close",onClick:j}))),l.a.createElement("div",{className:"flex flex-row  justify-between items-center mt-4"},l.a.createElement("div",{className:""},l.a.createElement("span",{className:"deposit-modal-available text-m"},"Available")),l.a.createElement("div",{className:"flex flex-row "},l.a.createElement("div",{className:"d-flex align-items-center m-1"},l.a.createElement("img",{src:r.a,alt:"LOGO Image",className:"img-fluid mini-logo-size"})),l.a.createElement("div",{className:"ps-1 pool_past_prizes m-1"},t/1e6," SCRT"))),l.a.createElement("div",{className:"flex flex-row  justify-between items-center  p-2 mt-2 deposit-modal-deposit-field deposit-modal-deposit-field-shape "},l.a.createElement("div",null,l.a.createElement("input",{className:"deposit-modal-deposit-field text-white w-full",type:"number",min:"0",placeholder:"0.00","placeholder-default":"white",name:"inputBalance",value:n,onChange:g})),l.a.createElement("div",{className:"deposit-modal-deposit-field-tokens"},"SCRT")),l.a.createElement("div",{className:"flex flex-row mt-4 items-center justify-between text-white "},l.a.createElement("div",{className:"deposit-modal-amount-percentage px-5 ",onClick:()=>{o((t/1e6*.25).toFixed(2))}},l.a.createElement("button",null,"25%")),l.a.createElement("div",{className:"deposit-modal-amount-percentage  px-5",onClick:()=>{o((t/1e6*.5).toFixed(2))}},l.a.createElement("button",null,"50%")),l.a.createElement("div",{className:"deposit-modal-amount-percentage px-5 ",onClick:()=>{o((t/1e6*.75).toFixed(2))}},l.a.createElement("button",null,"75%")),l.a.createElement("div",{className:"deposit-modal-amount-percentage  px-5",onClick:()=>{o(t/1e6)}},l.a.createElement("button",null,"100%"))),l.a.createElement("div",{className:"flex flex-row mt-4 items-center justify-between "},l.a.createElement(i.Button,{className:"btn account_deposit_button text-white self-center",onClick:()=>async function(){h(!0);const{secretjs:e,address:t}=w;let s=String(1e6*n);try{let a=await e.tx.compute.executeContract({sender:t,contractAddress:"secret1a25z89fjjjhr6zyuvr3w7z694fv4yq2z8drqxq",codeHash:"00e789c42814eb05255cb553f1439d4cb7969d493e26d68f0766b7e4d1cae2b5",msg:{deposit:{}},sentFunds:[{amount:s,denom:"uscrt"}]},{gasLimit:240297});console.log(a),a.jsonLog?Object(p.a)("success","Transaction sent!",`Successfully deposited: ${n} SCRT \n \n        Txhash: ${a.transactionHash}`):Object(p.a)("error","ERROR",a.rawLog)}catch(c){Object(p.a)("error","ERROR",c)}const{balance:{amount:l}}=await e.query.bank.balance({address:t,denom:"uscrt"});a(l),await j()}(),disabled:!m},E?l.a.createElement("div",{className:"loader-1 center"},l.a.createElement("span",null)):l.a.createElement("div",null,"Deposit")))))),document.body):null};return l.a.createElement(v,{isShowing:e.isShowing,hide:e.hide})}}}]);
//# sourceMappingURL=19.2dfa966d.chunk.js.map